<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Langton's Ant Simulator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        canvas { border: 1px solid #333; }
    </style>
</head>
<body class="bg-gray-100">
    <div class="flex flex-col items-center justify-center min-h-screen">
        <h1 class="text-4xl font-bold mb-6 text-indigo-600">Langton's Ant Simulator</h1>

        <canvas id="canvas" class="transition-opacity duration-700 opacity-0 mb-6"></canvas>

        <div class="w-full max-w-md mb-4">
            <label class="block mb-1 font-semibold">Grid Size: <span id="gridSizeLabel">120</span></label>
            <input type="range" id="gridSize" min="50" max="500" value="120" class="w-full">
        </div>
        <div class="w-full max-w-md mb-4">
            <label class="block mb-1 font-semibold">Cell Size: <span id="cellSizeLabel">5</span></label>
            <input type="range" id="cellSize" min="1" max="20" value="5" class="w-full">
        </div>
        <div class="w-full max-w-md mb-4">
            <label class="block mb-1 font-semibold">Speed (ms): <span id="speedLabel">50</span></label>
            <input type="range" id="speed" min="1" max="500" value="50" class="w-full">
        </div>

        <div class="flex mb-6">
            <button id="start" class="bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded m-2">Start</button>
            <button id="pause" class="bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-2 px-4 rounded m-2">Pause</button>
            <button id="reset" class="bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded m-2">Reset</button>
        </div>

        <footer class="mt-8 text-center text-gray-500">
            <a href="https://github.com/yourusername/your-repo" target="_blank" class="underline hover:text-gray-700">View on GitHub</a>
        </footer>
    </div>

    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        const gridSizeSlider = document.getElementById('gridSize');
        const cellSizeSlider = document.getElementById('cellSize');
        const speedSlider = document.getElementById('speed');
        const gridSizeLabel = document.getElementById('gridSizeLabel');
        const cellSizeLabel = document.getElementById('cellSizeLabel');
        const speedLabel = document.getElementById('speedLabel');
        let gridSize = +gridSizeSlider.value;
        let cellSize = +cellSizeSlider.value;
        let speed = +speedSlider.value;

        let grid = [];
        let ant = { x: Math.floor(gridSize / 2), y: Math.floor(gridSize / 2), dir: 0 };
        let interval;

        function init() {
            grid = Array.from({ length: gridSize }, () => Array(gridSize).fill(0));
            ant = { x: Math.floor(gridSize / 2), y: Math.floor(gridSize / 2), dir: 0 };
            canvas.width = gridSize * cellSize;
            canvas.height = gridSize * cellSize;
            draw();
            canvas.classList.add('opacity-100');
        }

        function draw() {
            for (let y = 0; y < gridSize; y++) {
                for (let x = 0; x < gridSize; x++) {
                    ctx.fillStyle = grid[y][x] ? '#000' : '#fff';
                    ctx.fillRect(x * cellSize, y * cellSize, cellSize, cellSize);
                }
            }
            ctx.fillStyle = 'red';
            ctx.fillRect(ant.x * cellSize, ant.y * cellSize, cellSize, cellSize);
        }

        function step() {
            if (grid[ant.y][ant.x] === 0) {
                ant.dir = (ant.dir + 1) % 4;
                grid[ant.y][ant.x] = 1;
            } else {
                ant.dir = (ant.dir + 3) % 4;
                grid[ant.y][ant.x] = 0;
            }

            if (ant.dir === 0) ant.y--;
            if (ant.dir === 1) ant.x++;
            if (ant.dir === 2) ant.y++;
            if (ant.dir === 3) ant.x--;

            ant.x = (ant.x + gridSize) % gridSize;
            ant.y = (ant.y + gridSize) % gridSize;

            draw();
        }

        function start() {
            if (!interval) {
                interval = setInterval(step, speed);
            }
        }

        function pause() {
            clearInterval(interval);
            interval = null;
        }

        function reset() {
            pause();
            init();
        }

        gridSizeSlider.addEventListener('input', () => {
            gridSize = +gridSizeSlider.value;
            gridSizeLabel.textContent = gridSize;
            init();
        });

        cellSizeSlider.addEventListener('input', () => {
            cellSize = +cellSizeSlider.value;
            cellSizeLabel.textContent = cellSize;
            init();
        });

        speedSlider.addEventListener('input', () => {
            speed = +speedSlider.value;
            speedLabel.textContent = speed;
            if (interval) {
                pause();
                start();
            }
        });

        document.getElementById('start').addEventListener('click', start);
        document.getElementById('pause').addEventListener('click', pause);
        document.getElementById('reset').addEventListener('click', reset);

        init();
    </script>
</body>
</html>